document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("playBtn"),t=document.getElementById("prevBtn"),n=document.getElementById("nextBtn"),l=e.querySelector("i"),a=document.getElementById("playlistBox"),i=document.getElementById("togglePlaylist"),c=document.getElementById("progress"),o=document.getElementById("progressBar"),r=document.getElementById("currentTime"),s=document.getElementById("duration"),d=document.getElementById("nowPlaying"),y=document.getElementById("volumeSlider");let u=!1,g=0;const m=new Audio,p=[{title:"Hola, Durazno",description:"Dos noticias en formato Podcast",duration:"2 minutos",audio:"https://duraznodigitalpremium.com/wp-content/uploads/2025/12/HolaDurazno2-3-diciembre.mp3"},{title:"Navidad a Cielo Abierto",description:"Otros datos de la conferencia de prensa",duration:"16 minutos",audio:"https://duraznodigitalpremium.com/wp-content/uploads/2025/12/Acieloabiertoconferencia.mp3"},{title:"Éxitos en Español",description:"Selección de canciones populares",duration:"11 minutos",audio:"https://duraznodigitalpremium.com/wp-content/uploads/2025/12/Latinas1.mp3"},{title:"Llamadas de Primavera",description:"Entregaron premio a vecina. Podcast con Fernando Salvador Báez",duration:"58 segundos",audio:"https://duraznodigitalpremium.com/wp-content/uploads/2025/12/3diciembre2b.mp3"}];function h(){a.innerHTML="",p.forEach((t,n)=>{const l=document.createElement("div");l.className="playItem "+(n===g?"active":""),l.innerHTML=`<h4>${t.title}</h4><p>${t.description}</p><small>${t.duration}</small>`,l.onclick=(()=>f(n)),a.appendChild(l)})}function f(t){g=t;const n=p[t];m.src=n.audio,m.play().then(()=>{u=!0,l.classList.replace("fa-play","fa-pause"),e.classList.add("playing"),d.textContent=n.title,h()})}e.onclick=(()=>{m.src?u?(m.pause(),l.classList.replace("fa-pause","fa-play"),e.classList.remove("playing"),u=!1):(m.play(),l.classList.replace("fa-play","fa-pause"),e.classList.add("playing"),u=!0):f(0)}),n.onclick=(()=>{g=(g+1)%p.length,f(g)}),t.onclick=(()=>{g=(g-1+p.length)%p.length,f(g)}),m.ontimeupdate=(()=>{m.duration&&(c.style.width=m.currentTime/m.duration*100+"%",r.textContent=v(m.currentTime),s.textContent=v(m.duration))}),o.onclick=e=>{const t=e.offsetX/o.offsetWidth;m.currentTime=t*m.duration};function v(e){const t=Math.floor(e/60);return`${t}:${Math.floor(e%60).toString().padStart(2,"0")}`}y.oninput=(()=>{m.volume=y.value/100}),i.onclick=(()=>{a.style.display="block"===a.style.display?"none":"block"}),h()});
